事件缘由：

    1.在fanuc测量宏程序中如果出现一次报警之后就不允许程序继续运行了，所以当测量程序有多个不合格项的时候无法识别到所有的不合格项。为解决这个问题，测量宏程序不使用公差判断功能不让测量宏自动产生#3000报警防止程序中断，而是通过暂存测量结果，在所有的特征测量完之后集中进行判断。

    2.在集中判断的时候如果还是使用宏程序的#3000功能也会出现测量宏中相同的问题，判断过程中程序被中断。为解决这个问题可以使用#3006=1(备注信息)的方法实现暂停和提醒而不中断程序运行，让操作员记录报警的测量编号，然后在工序文件中查找对应的问题和修改刀补等，缺点是有多个不合格项的时候会有多次暂停，不会一次显示所有的提醒。需要注意的是继续运行的时候不能连续按启动，需要不断观察提醒窗是否有报警，当提醒窗没有报警的时候不能再按启动，按了之后程序又将开始，此为缺陷。

    3.为解决这个问题，观察到fanuc的pmc报警是可以一次出多个报警的，于是想到用pmc报警来代替宏程序的#3000和#3006的方式。具体方式如下：

        ①通过#1100设为1或者0的方式可以控制F54.0成为1或者0，#1101设为1或者0的方式可以控制F54.1成为1或者0，以此类推

        ②在系统菜单找到PMCLAD,在跳出的页面输入久工plc密码EVERTECHCNC,进入PLC梯图界面


        ③点击操作，产生，缩放等开始编如下图的梯图，含义为当F54.0为1时，获取一个上升沿脉冲到R711.0

            然后R711.0闭合，A28.1得电，同时形成自锁回路使脉冲结束A28.1还能持续得电，即能持续显示报警

            查看报警后，按复位键的时候F1.1的常闭接口瞬间断开，A28.1失电报警消失

            ￼

        ④定制名为A28.1的报警号码和报警内容：进入PMCCNF界面选择信息，出现如下图A报警信息清单

            翻页找到A28.1行，操作，编辑，缩放，输入报警号1000-1999为红色pmc报警，2000-2999为

            操作提示信息。

        ⑤测试,MDI状态输入#1100=1,系统跳出定制的pmc报警，按复位键，报警消失。

        ⑥完善，上一步报警虽然消失了，但是F54.0还是处于1的状态，故再次运行#1100=1时该位并没有发生变化，所以不能产生

            上升沿触发信号到R711.0，所以无法产生报警。解决方案就是在输出#1100=1之前增加#1100=0；G4X0.001;就能

            再次产生报警，复位消失。

